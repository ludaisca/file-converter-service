# ============================================================================
# File Converter Service - Configuración de Entorno (.env)
# ============================================================================
# Este archivo contiene variables de configuración para la aplicación.
# Copia este archivo a .env y ajusta los valores según tu entorno.
# DO NOT commit .env to version control!
#
# Versión: 2.0.0 (23 de diciembre de 2024)
# Última actualización: 2024-12-23
# ============================================================================

# ============================================================================
# CONFIGURACIÓN DE FLASK
# ============================================================================
# Entorno de Flask (development/production)
# En desarrollo: facilita debugging
# En producción: desactiva debug mode y usa optimizaciones
FLASK_ENV=production

# Modo debug (True/False)
# NO usar True en producción
FLASK_DEBUG=False

# ============================================================================
# CONFIGURACIÓN DE ARCHIVOS
# ============================================================================
# Límite de tamaño de archivo en MB (min: 1, max: 10000)
# Archivos más grandes serán rechazados
# Default: 50 MB (ideal para documentos y pequeños videos)
# Para documentos: 10-50 MB
# Para imágenes: 50-100 MB
# Para videos: 100-1000 MB
MAX_FILE_SIZE=50

# Límite de tamaño para descargas desde URL en MB (min: 1, max: 10000)
# Archivos descargados más grandes serán rechazados
# Default: 100 MB
MAX_DOWNLOAD_SIZE=100

# Carpeta para archivos subidos
# Default: /app/uploads
# NOTA: El contenedor crea automáticamente si no existe
UPLOAD_FOLDER=/app/uploads

# Carpeta para archivos convertidos
# Default: /app/converted
# NOTA: El contenedor crea automáticamente si no existe
CONVERTED_FOLDER=/app/converted

# ============================================================================
# CONFIGURACIÓN DE LIMPIEZA
# ============================================================================
# Intervalo de limpieza en segundos
# Define cada cuánto tiempo se limpian archivos expirados
# Default: 3600 (cada hora)
# Valores: 300-86400 (5 minutos - 1 día)
CLEANUP_INTERVAL=3600

# Tiempo de vida de archivos en segundos
# Define cuánto tiempo se guardan los archivos convertidos
# Default: 3600 (1 hora)
# Valores: 300-604800 (5 minutos - 7 días)
FILE_TTL=3600

# ============================================================================
# CONFIGURACIÓN DE LOGGING
# ============================================================================
# Nivel de logging (DEBUG/INFO/WARNING/ERROR/CRITICAL)
# DEBUG: Más verboso, útil para desarrollo
# INFO: Normal, información general
# WARNING: Solo advertencias y errores
# ERROR: Solo errores
LOG_LEVEL=INFO

# Archivo de log
# Default: /app/logs/app.log
LOG_FILE=/app/logs/app.log

# Habilitar logging estructurado en JSON
# Default: False
# Usar True para mejor integración con sistemas de monitoreo
LOG_JSON=True

# ============================================================================
# CONFIGURACIÓN DE MONITOREO
# ============================================================================
# Habilitar health check y monitoreo de salud
# Default: True
ENABLE_HEALTH_MONITORING=True

# Incluir métricas del sistema en health check
# Default: True
INCLUDE_SYSTEM_METRICS=True

# ============================================================================
# CONFIGURACIÓN DE OCR
# ============================================================================
# Habilitar funcionalidad OCR (reconocimiento de texto)
# Default: True
# Requiere tesseract-ocr instalado en el sistema
ENABLE_OCR=True

# Idioma por defecto para OCR (eng/spa/fra/etc)
# Default: spa (español)
OCR_DEFAULT_LANGUAGE=spa

# Número máximo de páginas para OCR en PDF
# Default: 0 (sin límite)
# Usar > 0 para limitar y mejorar performance
OCR_MAX_PAGES=0

# ============================================================================
# CONFIGURACIÓN DE API
# ============================================================================
# Versión de la API
# Default: 2.0.0
# NO modificar a menos que actualices la API
API_VERSION=2.0.0

# Timeout para descargas desde URL en segundos
# Default: 30
DOWNLOAD_TIMEOUT=30

# ============================================================================
# CONFIGURACIÓN DE SEGURIDAD
# ============================================================================
# Habilitar CORS (Cross-Origin Resource Sharing)
# Default: True
# Usar False si solo se accede desde mismo origen
ENABLE_CORS=True

# Origenes CORS permitidos (separados por coma)
# Default: * (cualquier origen)
# Para producción, especificar dominios: https://ejemplo.com,https://otro.com
CORS_ORIGINS=*

# Máximo número de conversiones simultáneas
# Default: 4
# Aumentar si tienes más CPU disponible
MAX_CONCURRENT_CONVERSIONS=4

# ============================================================================
# CONFIGURACIÓN DE PRODUCCIÓN (COOLIFY)
# ============================================================================
# Usar esta sección al desplegar en Coolify

# En Coolify, las siguientes variables son normalmente configuradas por la plataforma:
# - Puerto: 5000 (mapeado internamente)
# - Dominio: e0kkgos0wok8kgo0o4gcksc8.orquestra.xyz (tu dominio)
# - SSL: Automático con Let's Encrypt
# - Health Check: /health (cada 30 segundos)

# Ejemplo de configuración para Coolify:
# FLASK_ENV=production
# FLASK_DEBUG=False
# MAX_FILE_SIZE=50
# MAX_DOWNLOAD_SIZE=100
# LOG_LEVEL=INFO
# ENABLE_OCR=True
# API_VERSION=2.0.0

# ============================================================================
# CONFIGURACIÓN DE DESARROLLO (LOCAL)
# ============================================================================
# Para desarrollo local, descomenta y ajusta:

# FLASK_ENV=development
# FLASK_DEBUG=True
# LOG_LEVEL=DEBUG
# MAX_FILE_SIZE=100
# MAX_DOWNLOAD_SIZE=200

# ============================================================================
# NOTAS IMPORTANTES
# ============================================================================
# 
# 1. VARIABLES REQUERIDAS:
#    - Todas las variables tienen valores por defecto
#    - Opcionalmente puedes sobrescribir
#
# 2. VALIDACIÓN (v2.0.0+):
#    - Las variables se validan con Pydantic al iniciar
#    - Si hay error, la aplicación no inicia
#    - Revisa los logs si hay problemas de configuración
#
# 3. TIPOS DE DATOS:
#    - Numéricas: Sin comillas
#    - Booleanas: True/False (sin comillas)
#    - Texto: Sin comillas (a menos que tenga espacios)
#    - Ejemplo: LOG_LEVEL=INFO (correcto)
#    - Ejemplo: LOG_LEVEL="INFO" (también correcto)
#
# 4. RANGOS VÁLIDOS:
#    - MAX_FILE_SIZE: 1-10000 MB
#    - MAX_DOWNLOAD_SIZE: 1-10000 MB
#    - CLEANUP_INTERVAL: 300-86400 segundos
#    - FILE_TTL: 300-604800 segundos
#    - MAX_CONCURRENT_CONVERSIONS: 1-16
#
# 5. SEGURIDAD:
#    - NUNCA commits este archivo con valores sensibles
#    - En producción, usa variables de entorno del sistema
#    - En Coolify, usa "Secrets" o "Environment Variables"
#
# 6. DIRECTORIOS:
#    - El contenedor crea automáticamente:
#      - /app/uploads (archivos subidos)
#      - /app/converted (archivos convertidos)
#      - /app/logs (logs de la aplicación)
#    - Los directorios se mapean a volúmenes en docker-compose
#
# 7. LIMPIEZA DE ARCHIVOS:
#    - Los archivos se limpian automáticamente tras FILE_TTL
#    - El proceso corre cada CLEANUP_INTERVAL
#    - Los archivos más viejos se eliminan primero
#
# 8. OCR:
#    - Requiere tesseract-ocr en el contenedor
#    - La imagen Docker ya lo incluye
#    - Soporta más de 100 idiomas
#
# 9. LOGS:
#    - Formato JSON para mejor procesamiento
#    - Rotación automática de logs
#    - Ver logs: docker-compose logs -f
#
# 10. HEALTH CHECK:
#     - Endpoint: GET /health
#     - Retorna: JSON con estado y métricas del sistema
#     - Intervalo: 30 segundos (configurable en docker-compose)
#
# ============================================================================

# ============================================================================
# REFERENCIAS
# ============================================================================
# 
# - Documentación: https://github.com/ludaisca/file-converter-service
# - Issues: https://github.com/ludaisca/file-converter-service/issues
# - Wiki: https://github.com/ludaisca/file-converter-service/wiki
# - Changelog: https://github.com/ludaisca/file-converter-service/blob/main/CHANGELOG.md
#
# ============================================================================
